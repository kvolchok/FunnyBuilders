Index: Assets/Scripts/DragController.cs
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>using UnityEngine;\r\n\r\n\r\npublic class DragController : MonoBehaviour\r\n{\r\n    [SerializeField] private LayerMask _raycastLayerMask;\r\n    [SerializeField] private float _movementDuration = 1f;\r\n    [SerializeField] private Vector3 _offset;\r\n    private Collider _draggedObject;\r\n    private Vector3 _startPositionObject;\r\n    private Vector3 _dropSpotPosition;\r\n    private Camera _camera;\r\n    private bool _isOverDropSpot;\r\n\r\n    private void Awake()\r\n    {\r\n        _camera = Camera.main;\r\n    }\r\n\r\n\r\n    private void Update()\r\n    {\r\n        if (Input.GetMouseButtonDown(0))\r\n        {\r\n            TakeObject();\r\n        }\r\n\r\n        if (Input.GetMouseButton(0))\r\n        {\r\n            DragObject();\r\n        }\r\n\r\n\r\n        if (Input.GetMouseButtonUp(0))\r\n        {\r\n            DropObject();\r\n        }\r\n    }\r\n\r\n    private void TakeObject()\r\n    {\r\n        var ray = _camera.ScreenPointToRay(Input.mousePosition);\r\n        if (Physics.Raycast(ray, out var hit))\r\n        {\r\n            if (hit.collider.CompareTag(\"Player\"))\r\n            {\r\n                _draggedObject = hit.collider;\r\n                _startPositionObject = _draggedObject.transform.position;\r\n            }\r\n        }\r\n    }\r\n\r\n    private void DragObject()\r\n    {\r\n        var ray = _camera.ScreenPointToRay(Input.mousePosition);\r\n\r\n        if (Physics.Raycast(ray, out var hit, Mathf.Infinity, _raycastLayerMask))\r\n        {\r\n            if (_draggedObject != null)\r\n            {\r\n                _draggedObject.transform.position = new Vector3(hit.point.x, hit.point.y, hit.point.z) + _offset;\r\n\r\n                CheckDropSpot();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void DropObject()\r\n    {\r\n        if (_draggedObject == null)\r\n        {\r\n            return;\r\n        }\r\n\r\n        if (_isOverDropSpot)\r\n        {\r\n            _draggedObject.transform.position = _dropSpotPosition + _offset;\r\n        }\r\n        else\r\n        {\r\n            _draggedObject.transform.DOMove(_startPositionObject, _movementDuration);\r\n        }\r\n\r\n\r\n        _draggedObject = null;\r\n    }\r\n\r\n    private void CheckDropSpot()\r\n    {\r\n        var ray = new Ray(_draggedObject.transform.position, Vector3.down);\r\n        if (Physics.Raycast(ray, out var hitInfo))\r\n        {\r\n            var hit = hitInfo.collider.gameObject;\r\n            var spot = hit.CompareTag(\"Finish\");\r\n            if (spot)\r\n            {\r\n                _isOverDropSpot = true;\r\n                _dropSpotPosition = hit.transform.position;\r\n            }\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Assets/Scripts/DragController.cs b/Assets/Scripts/DragController.cs
--- a/Assets/Scripts/DragController.cs	(revision 9c459f56df70bd0b9fd57bd7bd2e6ebdaec2f78a)
+++ b/Assets/Scripts/DragController.cs	(date 1692200920036)
@@ -1,3 +1,4 @@
+using DG.Tweening;
 using UnityEngine;
 
 
